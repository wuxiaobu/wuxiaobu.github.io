<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Go语言基础之基本数据类型 | 吴小布说</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="robots" content="noodp" />
<meta name="Description" content="Go语言基础之基本数据类型">
<link rel="prev" href="http://wuxiaobu.github.io/2019/12/dns-resolution/" />
<link rel="canonical" href="http://wuxiaobu.github.io/2020/01/go-string/" />
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Go语言基础之基本数据类型"/>
<meta name="twitter:description" content="Go语言基础之基本数据类型"/>
<script type="application/ld+json">
    {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Go语言基础之基本数据类型",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http:\/\/wuxiaobu.github.io\/2020\/01\/go-string\/"
    },
    
        "image": {
            "@type": "ImageObject",
            "url": "http:\/\/wuxiaobu.github.io\/cover.png",
            "width":  800 ,
            "height":  600 
        },
    
    "genre": "posts",
    
        "keywords": "Go, Golang",
    
    "wordcount":  516 ,
    "url": "http:\/\/wuxiaobu.github.io\/2020\/01\/go-string\/",
    
        "datePublished": "2020-01-10T15:10:45\x2b08:00",
    
    
        "dateModified": "2020-01-10T15:10:45\x2b08:00",
    
    
        "license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.",
    
    
        "publisher": {
            "@type": "Organization",
            "name": "Wu Xiaobu",
            "logo": {
            "@type": "ImageObject",
            "url": "http:\/\/wuxiaobu.github.io\/wufan.jpg",
            "width":  127 ,
            "height":  40 
            }
        },
    
    
    "description": "Go语言基础之基本数据类型"
    }
    </script>
<link rel="stylesheet" href="/css/style.min.css">
<link rel="stylesheet" href="/css/lib/fontawesome-free/all.min.min.css">

<link rel="stylesheet" href="/css/lib/animate/animate.min.min.css">

    </head>
    <body>
        <script>
            window.isDark = (window.localStorage && window.localStorage.getItem('theme')) === 'dark';
            window.isDark && document.body.classList.add('dark-theme');
        </script>
        <div class="wrapper">
            <nav class="navbar">
    <div class="navbar-container">
        <div class="navbar-header animated bounceIn">
            <a href="http://wuxiaobu.github.io/">吴小布说</a>
        </div>
        <div class="navbar-menu">
            
            
                <a class="menu-item" href="http://wuxiaobu.github.io/posts" title="">Posts</a>
            
                <a class="menu-item" href="http://wuxiaobu.github.io/tags" title="">Tags</a>
            
                <a class="menu-item" href="http://wuxiaobu.github.io/categories" title="">Categories</a>
            
                <a class="menu-item" href="http://wuxiaobu.github.io/about" title="">About</a>
            
            <a href="javascript:void(0);" class="theme-switch"><i class="fas fa-adjust fa-rotate-180 fa-fw"></i></a>
        </div>
    </div>
</nav>
<nav class="navbar-mobile">
     <div class="navbar-container">
        <div class="navbar-header">
            <div class="navbar-header-title animated bounceIn">
                <a href="http://wuxiaobu.github.io/">吴小布说</a>
            </div>
            <div class="menu-toggle" id="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="navbar-menu" id="mobile-menu">
            
            
                <a class="menu-item" href="http://wuxiaobu.github.io/posts" title="">Posts</a>
            
                <a class="menu-item" href="http://wuxiaobu.github.io/tags" title="">Tags</a>
            
                <a class="menu-item" href="http://wuxiaobu.github.io/categories" title="">Categories</a>
            
                <a class="menu-item" href="http://wuxiaobu.github.io/about" title="">About</a>
            
            <a href="javascript:void(0);" class="theme-switch"><i class="fas fa-adjust fa-rotate-180 fa-fw"></i></a>
        </div>
    </div>
</nav><main class="main">
                <div class="container">
                    
    
    
    

    <article class="post-warp">
        <h1 class="post-title animated flipInX">Go语言基础之基本数据类型</h1>

        <div class="post-meta">
            <div class="post-meta-main">
                <a class="author" href="http://wuxiaobu.github.io/" rel="author"><i class="fas fa-user-circle fa-fw"></i>Wu Xiaobu&nbsp;</a>
                <span class="post-category">
                        included in
                        <i class="far fa-folder fa-fw"></i><a href="http://wuxiaobu.github.io/categories/go/">Go</a>
                            
                    </span>
            </div>
            <div class="post-meta-other">
                <i class="far fa-calendar-alt fa-fw"></i><time datetime=2020-01-10>2020-01-10</time>&nbsp;
                <i class="fas fa-pencil-alt fa-fw"></i>about 516 words&nbsp;
                <i class="far fa-clock fa-fw"></i>3 min&nbsp;</div>
        </div>

        

        <div class="post-toc" id="post-toc">
                <h2 class="post-toc-title">Table of Contents</h2>
                <div class="post-toc-content">
                    <nav id="TableOfContents">
<ul>
<li><a href="#基本数据类型">基本数据类型</a>
<ul>
<li><a href="#整型">整型</a>
<ul>
<li><a href="#特殊整型">特殊整型</a></li>
<li><a href="#数字字面量语法-number-literals-syntax">数字字面量语法（Number literals syntax）</a></li>
</ul></li>
<li><a href="#浮点型">浮点型</a></li>
<li><a href="#复数">复数</a></li>
<li><a href="#布尔值">布尔值</a></li>
<li><a href="#字符串">字符串</a>
<ul>
<li><a href="#字符串转义符">字符串转义符</a></li>
<li><a href="#多行字符串">多行字符串</a></li>
<li><a href="#字符串的常用操作">字符串的常用操作</a></li>
</ul></li>
<li><a href="#byte和rune类型">byte和rune类型</a>
<ul>
<li><a href="#修改字符串">修改字符串</a></li>
</ul></li>
<li><a href="#类型转换">类型转换</a></li>
</ul></li>
</ul>
</nav>
                </div>
            </div>
            <div class="post-toc-mobile" id="post-toc-mobile">
                <details>
                    <summary><div class="post-toc-title"><span>Table of Contents</span><span><i class="details icon fas fa-angle-down"></i></span></div></summary>
                    <div class="post-toc-content">
                        
                        
                        <nav id="TableOfContentsMobile">
<ul>
<li><a href="#基本数据类型">基本数据类型</a>
<ul>
<li><a href="#整型">整型</a>
<ul>
<li><a href="#特殊整型">特殊整型</a></li>
<li><a href="#数字字面量语法-number-literals-syntax">数字字面量语法（Number literals syntax）</a></li>
</ul></li>
<li><a href="#浮点型">浮点型</a></li>
<li><a href="#复数">复数</a></li>
<li><a href="#布尔值">布尔值</a></li>
<li><a href="#字符串">字符串</a>
<ul>
<li><a href="#字符串转义符">字符串转义符</a></li>
<li><a href="#多行字符串">多行字符串</a></li>
<li><a href="#字符串的常用操作">字符串的常用操作</a></li>
</ul></li>
<li><a href="#byte和rune类型">byte和rune类型</a>
<ul>
<li><a href="#修改字符串">修改字符串</a></li>
</ul></li>
<li><a href="#类型转换">类型转换</a></li>
</ul></li>
</ul>
</nav>
                    </div>
                </details>
            </div>

        <div class="post-content">
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            

<p>Go语言中有丰富的数据类型，除了基本的整型、浮点型、布尔型、字符串外，还有数组、切片、结构体、函数、map、通道（channel）等。Go 语言的基本类型和其他语言大同小异。</p>

<a class="post-dummy-target" id="基本数据类型"></a><h1>基本数据类型</h1>

<a class="post-dummy-target" id="整型"></a><h2>整型</h2>

<p>整型分为以下两个大类： 按长度分为：int8、int16、int32、int64 对应的无符号整型：uint8、uint16、uint32、uint64</p>

<p>其中，<code>uint8</code>就是我们熟知的<code>byte</code>型，<code>int16</code>对应C语言中的<code>short</code>型，<code>int64</code>对应C语言中的<code>long</code>型。</p>

<table>
<thead>
<tr>
<th>类型</th>
<th>描述</th>
</tr>
</thead>

<tbody>
<tr>
<td>uint8</td>
<td>无符号 8位整型 (0 到 255)</td>
</tr>

<tr>
<td>uint16</td>
<td>无符号 16位整型 (0 到 65535)</td>
</tr>

<tr>
<td>uint32</td>
<td>无符号 32位整型 (0 到 4294967295)</td>
</tr>

<tr>
<td>uint64</td>
<td>无符号 64位整型 (0 到 18446744073709551615)</td>
</tr>

<tr>
<td>int8</td>
<td>有符号 8位整型 (-128 到 127)</td>
</tr>

<tr>
<td>int16</td>
<td>有符号 16位整型 (-32768 到 32767)</td>
</tr>

<tr>
<td>int32</td>
<td>有符号 32位整型 (-2147483648 到 2147483647)</td>
</tr>

<tr>
<td>int64</td>
<td>有符号 64位整型 (-9223372036854775808 到 9223372036854775807)</td>
</tr>
</tbody>
</table>

<a class="post-dummy-target" id="特殊整型"></a><h3>特殊整型</h3>

<table>
<thead>
<tr>
<th>类型</th>
<th>描述</th>
</tr>
</thead>

<tbody>
<tr>
<td>uint</td>
<td>32位操作系统上就是<code>uint32</code>，64位操作系统上就是<code>uint64</code></td>
</tr>

<tr>
<td>int</td>
<td>32位操作系统上就是<code>int32</code>，64位操作系统上就是<code>int64</code></td>
</tr>

<tr>
<td>uintptr</td>
<td>无符号整型，用于存放一个指针</td>
</tr>
</tbody>
</table>

<p><strong>注意：</strong> 在使用<code>int</code>和 <code>uint</code>类型时，不能假定它是32位或64位的整型，而是考虑<code>int</code>和<code>uint</code>可能在不同平台上的差异。</p>

<p><strong>注意事项</strong> 获取对象的长度的内建<code>len()</code>函数返回的长度可以根据不同平台的字节长度进行变化。实际使用中，切片或 map 的元素数量等都可以用<code>int</code>来表示。在涉及到二进制传输、读写文件的结构描述时，为了保持文件的结构不会受到不同编译目标平台字节长度的影响，不要使用<code>int</code>和 <code>uint</code>。</p>

<a class="post-dummy-target" id="数字字面量语法-number-literals-syntax"></a><h3>数字字面量语法（Number literals syntax）</h3>

<p>Go1.13版本之后引入了数字字面量语法，这样便于开发者以二进制、八进制或十六进制浮点数的格式定义数字，例如：</p>

<p>v := 0b00101101， 代表二进制的 101101，相当于十进制的 45。 v := 0o377，代表八进制的 377，相当于十进制的 255。 v := 0x1p-2，代表十六进制的 1 除以 2²，也就是 0.25。 而且还允许我们用 _ 来分隔数字，比如说：</p>

<p>v := 123_456 等于 123456。</p>

<p>我们可以借助fmt函数来将一个整数以不同进制形式展示。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>
 
<span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
 
<span class="kd">func</span> <span class="nf">main</span><span class="p">(){</span>
	<span class="c1">// 十进制
</span><span class="c1"></span>	<span class="kd">var</span> <span class="nx">a</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">10</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%d \n&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span>  <span class="c1">// 10
</span><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%b \n&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span>  <span class="c1">// 1010  占位符%b表示二进制
</span><span class="c1"></span> 
	<span class="c1">// 八进制  以0开头
</span><span class="c1"></span>	<span class="kd">var</span> <span class="nx">b</span> <span class="kt">int</span> <span class="p">=</span> <span class="mo">077</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%o \n&#34;</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>  <span class="c1">// 77
</span><span class="c1"></span> 
	<span class="c1">// 十六进制  以0x开头
</span><span class="c1"></span>	<span class="kd">var</span> <span class="nx">c</span> <span class="kt">int</span> <span class="p">=</span> <span class="mh">0xff</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%x \n&#34;</span><span class="p">,</span> <span class="nx">c</span><span class="p">)</span>  <span class="c1">// ff
</span><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%X \n&#34;</span><span class="p">,</span> <span class="nx">c</span><span class="p">)</span>  <span class="c1">// FF
</span><span class="c1"></span><span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<a class="post-dummy-target" id="浮点型"></a><h2>浮点型</h2>

<p>Go语言支持两种浮点型数：<code>float32</code>和<code>float64</code>。这两种浮点型数据格式遵循<code>IEEE 754</code>标准： <code>float32</code> 的浮点数的最大范围约为 <code>3.4e38</code>，可以使用常量定义：<code>math.MaxFloat32</code>。 <code>float64</code> 的浮点数的最大范围约为 <code>1.8e308</code>，可以使用一个常量定义：<code>math.MaxFloat64</code>。</p>

<p>打印浮点数时，可以使用<code>fmt</code>包配合动词<code>%f</code>，代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>
<span class="kn">import</span> <span class="p">(</span>
        <span class="s">&#34;fmt&#34;</span>
        <span class="s">&#34;math&#34;</span>
<span class="p">)</span>
<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%f\n&#34;</span><span class="p">,</span> <span class="nx">math</span><span class="p">.</span><span class="nx">Pi</span><span class="p">)</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%.2f\n&#34;</span><span class="p">,</span> <span class="nx">math</span><span class="p">.</span><span class="nx">Pi</span><span class="p">)</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<a class="post-dummy-target" id="复数"></a><h2>复数</h2>

<p>complex64和complex128</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">var</span> <span class="nx">c1</span> <span class="kt">complex64</span>
<span class="nx">c1</span> <span class="p">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="m">2i</span>
<span class="kd">var</span> <span class="nx">c2</span> <span class="kt">complex128</span>
<span class="nx">c2</span> <span class="p">=</span> <span class="mi">2</span> <span class="o">+</span> <span class="m">3i</span>
<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c1</span><span class="p">)</span>
<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c2</span><span class="p">)</span></code></pre></td></tr></table>
</div>
</div>
<p>复数有实部和虚部，complex64的实部和虚部为32位，complex128的实部和虚部为64位。</p>

<a class="post-dummy-target" id="布尔值"></a><h2>布尔值</h2>

<p>Go语言中以<code>bool</code>类型进行声明布尔型数据，布尔型数据只有<code>true（真）</code>和<code>false（假）</code>两个值。</p>

<p><strong>注意：</strong></p>

<ol>
<li>布尔类型变量的默认值为<code>false</code>。</li>
<li>Go 语言中不允许将整型强制转换为布尔型.</li>
<li>布尔型无法参与数值运算，也无法与其他类型进行转换。</li>
</ol>

<a class="post-dummy-target" id="字符串"></a><h2>字符串</h2>

<p>Go语言中的字符串以原生数据类型出现，使用字符串就像使用其他原生数据类型（int、bool、float32、float64 等）一样。 Go 语言里的字符串的内部实现使用<code>UTF-8</code>编码。 字符串的值为<code>双引号(&quot;)</code>中的内容，可以在Go语言的源码中直接添加非ASCII码字符，例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="nx">s1</span> <span class="o">:=</span> <span class="s">&#34;hello&#34;</span>
<span class="nx">s2</span> <span class="o">:=</span> <span class="s">&#34;你好&#34;</span></code></pre></td></tr></table>
</div>
</div>
<a class="post-dummy-target" id="字符串转义符"></a><h3>字符串转义符</h3>

<p>Go 语言的字符串常见转义符包含回车、换行、单双引号、制表符等，如下表所示。</p>

<table>
<thead>
<tr>
<th>转义符</th>
<th>含义</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>\r</code></td>
<td>回车符（返回行首）</td>
</tr>

<tr>
<td><code>\n</code></td>
<td>换行符（直接跳到下一行的同列位置）</td>
</tr>

<tr>
<td><code>\t</code></td>
<td>制表符</td>
</tr>

<tr>
<td><code>\'</code></td>
<td>单引号</td>
</tr>

<tr>
<td><code>\&quot;</code></td>
<td>双引号</td>
</tr>

<tr>
<td><code>\\</code></td>
<td>反斜杠</td>
</tr>
</tbody>
</table>

<p>举个例子，我们要打印一个Windows平台下的一个文件路径：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>
<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&#34;fmt&#34;</span>
<span class="p">)</span>
<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;str := \&#34;c:\\Code\\lesson1\\go.exe\&#34;&#34;</span><span class="p">)</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<a class="post-dummy-target" id="多行字符串"></a><h3>多行字符串</h3>

<p>Go语言中要定义一个多行字符串时，就必须使用<code>反引号</code>字符：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="nx">s1</span> <span class="o">:=</span> <span class="s">`第一行
</span><span class="s">第二行
</span><span class="s">第三行
</span><span class="s">`</span>
<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">s1</span><span class="p">)</span></code></pre></td></tr></table>
</div>
</div>
<p>反引号间换行将被作为字符串中的换行，但是所有的转义字符均无效，文本将会原样输出。</p>

<a class="post-dummy-target" id="字符串的常用操作"></a><h3>字符串的常用操作</h3>

<table>
<thead>
<tr>
<th>方法</th>
<th>介绍</th>
</tr>
</thead>

<tbody>
<tr>
<td>len(str)</td>
<td>求长度</td>
</tr>

<tr>
<td>+或fmt.Sprintf</td>
<td>拼接字符串</td>
</tr>

<tr>
<td>strings.Split</td>
<td>分割</td>
</tr>

<tr>
<td>strings.contains</td>
<td>判断是否包含</td>
</tr>

<tr>
<td>strings.HasPrefix,strings.HasSuffix</td>
<td>前缀/后缀判断</td>
</tr>

<tr>
<td>strings.Index(),strings.LastIndex()</td>
<td>子串出现的位置</td>
</tr>

<tr>
<td>strings.Join(a[]string, sep string)</td>
<td>join操作</td>
</tr>
</tbody>
</table>

<a class="post-dummy-target" id="byte和rune类型"></a><h2>byte和rune类型</h2>

<p>组成每个字符串的元素叫做“字符”，可以通过遍历或者单个获取字符串元素获得字符。 字符用单引号（’）包裹起来，如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">var</span> <span class="nx">a</span> <span class="o">:=</span> <span class="sc">&#39;中&#39;</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">:=</span> <span class="sc">&#39;x&#39;</span></code></pre></td></tr></table>
</div>
</div>
<p>Go 语言的字符有以下两种：</p>

<ol>
<li><code>uint8</code>类型，或者叫 byte 型，代表了<code>ASCII码</code>的一个字符。</li>
<li><code>rune</code>类型，代表一个 <code>UTF-8字符</code>。</li>
</ol>

<p>当需要处理中文、日文或者其他复合字符时，则需要用到<code>rune</code>类型。<code>rune</code>类型实际是一个<code>int32</code>。</p>

<p>Go 使用了特殊的 rune 类型来处理 Unicode，让基于 Unicode 的文本处理更为方便，也可以使用 byte 型进行默认字符串处理，性能和扩展性都有照顾。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="c1">// 遍历字符串
</span><span class="c1"></span><span class="kd">func</span> <span class="nf">traversalString</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">s</span> <span class="o">:=</span> <span class="s">&#34;hello沙河&#34;</span>
	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span> <span class="c1">//byte
</span><span class="c1"></span>		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%v(%c) &#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
	<span class="p">}</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">()</span>
	<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">r</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">s</span> <span class="p">{</span> <span class="c1">//rune
</span><span class="c1"></span>		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%v(%c) &#34;</span><span class="p">,</span> <span class="nx">r</span><span class="p">,</span> <span class="nx">r</span><span class="p">)</span>
	<span class="p">}</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>输出：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="m">104</span><span class="o">(</span>h<span class="o">)</span> <span class="m">101</span><span class="o">(</span>e<span class="o">)</span> <span class="m">108</span><span class="o">(</span>l<span class="o">)</span> <span class="m">108</span><span class="o">(</span>l<span class="o">)</span> <span class="m">111</span><span class="o">(</span>o<span class="o">)</span> <span class="m">230</span><span class="o">(</span>æ<span class="o">)</span> <span class="m">178</span><span class="o">(</span>²<span class="o">)</span> <span class="m">153</span><span class="o">()</span> <span class="m">230</span><span class="o">(</span>æ<span class="o">)</span> <span class="m">178</span><span class="o">(</span>²<span class="o">)</span> <span class="m">179</span><span class="o">(</span>³<span class="o">)</span> 
<span class="m">104</span><span class="o">(</span>h<span class="o">)</span> <span class="m">101</span><span class="o">(</span>e<span class="o">)</span> <span class="m">108</span><span class="o">(</span>l<span class="o">)</span> <span class="m">108</span><span class="o">(</span>l<span class="o">)</span> <span class="m">111</span><span class="o">(</span>o<span class="o">)</span> <span class="m">27801</span><span class="o">(</span>沙<span class="o">)</span> <span class="m">27827</span><span class="o">(</span>河<span class="o">)</span> </code></pre></td></tr></table>
</div>
</div>
<p>因为UTF8编码下一个中文汉字由3~4个字节组成，所以我们不能简单的按照字节去遍历一个包含中文的字符串，否则就会出现上面输出中第一行的结果。</p>

<p>字符串底层是一个byte数组，所以可以和<code>[]byte</code>类型相互转换。字符串是不能修改的 字符串是由byte字节组成，所以字符串的长度是byte字节的长度。 rune类型用来表示utf8字符，一个rune字符由一个或多个byte组成。</p>

<a class="post-dummy-target" id="修改字符串"></a><h3>修改字符串</h3>

<p>要修改字符串，需要先将其转换成<code>[]rune</code>或<code>[]byte</code>，完成后再转换为<code>string</code>。无论哪种转换，都会重新分配内存，并复制字节数组。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">changeString</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">s1</span> <span class="o">:=</span> <span class="s">&#34;big&#34;</span>
	<span class="c1">// 强制类型转换
</span><span class="c1"></span>	<span class="nx">byteS1</span> <span class="o">:=</span> <span class="p">[]</span><span class="nb">byte</span><span class="p">(</span><span class="nx">s1</span><span class="p">)</span>
	<span class="nx">byteS1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="sc">&#39;p&#39;</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nb">string</span><span class="p">(</span><span class="nx">byteS1</span><span class="p">))</span>

	<span class="nx">s2</span> <span class="o">:=</span> <span class="s">&#34;白萝卜&#34;</span>
	<span class="nx">runeS2</span> <span class="o">:=</span> <span class="p">[]</span><span class="nb">rune</span><span class="p">(</span><span class="nx">s2</span><span class="p">)</span>
	<span class="nx">runeS2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="sc">&#39;红&#39;</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nb">string</span><span class="p">(</span><span class="nx">runeS2</span><span class="p">))</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<a class="post-dummy-target" id="类型转换"></a><h2>类型转换</h2>

<p>Go语言中只有强制类型转换，没有隐式类型转换。该语法只能在两个类型之间支持相互转换的时候使用。</p>

<p>强制类型转换的基本语法如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">T<span class="o">(</span>表达式<span class="o">)</span></code></pre></td></tr></table>
</div>
</div>
<p>其中，T表示要转换的类型。表达式包括变量、复杂算子和函数返回值等.</p>

<p>比如计算直角三角形的斜边长时使用math包的Sqrt()函数，该函数接收的是float64类型的参数，而变量a和b都是int类型的，这个时候就需要将a和b强制类型转换为float64类型。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">sqrtDemo</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="p">=</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span>
	<span class="kd">var</span> <span class="nx">c</span> <span class="kt">int</span>
	<span class="c1">// math.Sqrt()接收的参数是float64类型，需要强制转换
</span><span class="c1"></span>	<span class="nx">c</span> <span class="p">=</span> <span class="nb">int</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nf">Sqrt</span><span class="p">(</span><span class="nb">float64</span><span class="p">(</span><span class="nx">a</span><span class="o">*</span><span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="o">*</span><span class="nx">b</span><span class="p">)))</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
        </div>

        <div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>This article is updated with 2020-01-10</span>
            </div>
            <div class="post-info-license">
                
            </div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md">
                
                    
                        <span><a class="link-to-markdown" href="http://wuxiaobu.github.io/2020/01/go-string/index.md" target="_blank"></a></span>
                    
                
            </div>
            <div class="post-info-share">
                
                    <span>
    
        <a href="//twitter.com/share?url=http%3a%2f%2fwuxiaobu.github.io%2f2020%2f01%2fgo-string%2f&amp;text=Go%e8%af%ad%e8%a8%80%e5%9f%ba%e7%a1%80%e4%b9%8b%e5%9f%ba%e6%9c%ac%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b&amp;via=" target="_blank" title="Share on Twitter">
            <i class="fab fa-twitter fa-fw"></i>
        </a>
    
    
        <a href="//www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fwuxiaobu.github.io%2f2020%2f01%2fgo-string%2f" target="_blank" title="Share on Facebook">
            <i class="fab fa-facebook-square fa-fw"></i>
        </a>
    
    
        <a href="//reddit.com/submit?url=http%3a%2f%2fwuxiaobu.github.io%2f2020%2f01%2fgo-string%2f&amp;title=Go%e8%af%ad%e8%a8%80%e5%9f%ba%e7%a1%80%e4%b9%8b%e5%9f%ba%e6%9c%ac%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b" target="_blank" title="Share on Reddit">
            <i class="fab fa-reddit fa-fw"></i>
        </a>
    
    
    
    
    
    
    
    
        <a href="//service.weibo.com/share/share.php?url=http%3a%2f%2fwuxiaobu.github.io%2f2020%2f01%2fgo-string%2f&amp;appkey=&amp;title=Go%e8%af%ad%e8%a8%80%e5%9f%ba%e7%a1%80%e4%b9%8b%e5%9f%ba%e6%9c%ac%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b" target="_blank" title="Share on Weibo">
            <i class="fab fa-weibo fa-fw"></i>
        </a>
    
</span>
                
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section>
            
                
                    <span class="tag">
                        <a href="http://wuxiaobu.github.io/tags/go/"><i class="fas fa-tag fa-fw"></i>Go</a>
                    </span>
                
                    <span class="tag">
                        <a href="http://wuxiaobu.github.io/tags/golang/"><i class="fas fa-tag fa-fw"></i>Golang</a>
                    </span>
                
            
        </section>
        <section>
            <span><a href="javascript:window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="http://wuxiaobu.github.io/">Home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
            <a href="http://wuxiaobu.github.io/2019/12/dns-resolution/" class="prev" rel="prev" title="域名解析及各个记录类型的作用与区别"><i class="fas fa-angle-left fa-fw"></i>域名解析及各个记录类型的作用与区别</a>
        
        
    </div>
</div>

        <div class="post-comment">
            
            

            
        </div>
    </article></div>
            </main>
            <footer class="footer">
    <div class="copyright">
        <div class="copyright-line">
            Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow noopener noreffer">Hugo</a>&nbsp;|&nbsp;Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="external nofollow noopener noreffer">LoveIt<i class="far fa-heart fa-fw"></i></a>
        </div>
        <div class="copyright-line">
            <i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2018 - 2020</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="http://wuxiaobu.github.io/">Wu Xiaobu</a></span><span class="license">&nbsp;|&nbsp;<a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
    </div>
</footer>


    
    




    
    




    
    





    
    



    
    



    
    





    
    





    
    



    
    





    
    




    
    




    
    



    
    





    
    


<script src="/js/lib/jquery/jquery.slim.min.min.js"></script>
<script src="/js/lib/lazysizes/lazysizes.min.min.js"></script>
<script src="/js/lib/smooth-scroll/smooth-scroll.polyfills.min.min.js"></script><script>window.scroll = new SmoothScroll('[data-scroll]', {speed: 300, speedAsDuration: true});</script>


    
    

    

    
        <link rel="stylesheet" href="/css/lib/katex/katex.min.min.css"><script src="/js/lib/katex/katex.min.min.js"></script><script defer src="/js/lib/katex/auto-render.min.min.js" onload="renderMathInElement(document.body);"></script>
    

    

    






<script src="/js/blog.min.js"></script>


    
</div>
        <a href="#" class="dynamic-to-top" id="dynamic-to-top" data-scroll><span>&nbsp;</span></a>
    </body>
</html>